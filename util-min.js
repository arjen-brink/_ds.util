window._ds||(window._ds={}),window._ds.events=[],window._ds.util={ga_event:function(e,n,t,i,o){e&&n&&dataLayer.push({event:"ga-event-generic","ga-event-category":e,"ga-event-action":n,"ga-event-label":t,"ga-event-value":i,"ga-event-nonInteraction":o})},setCookie:function(e,n,t,i,o){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var r=e+"="+n+";"+("expires="+a.toUTCString())+";path="+(i=i||"/");o&&(r=r+";domain="+o),document.cookie=r},deleteCookie:function(e,n){n=n||"/",this.setCookie(e,"",-1,n)},getCookie:function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),i=0;i<t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(n))return o.substring(n.length,o.length)}},injPixel:function(e){var n=document.createElement("img");n.height="1",n.width="1",n.styl="display:none",n.alt="",n.src=e,document.body.appendChild(n)},injIframe:function(e){var n=document.createElement("iframe");n.style.display="none",n.width="1",n.height="1",n.src=e,document.body.appendChild(e)},injScript:function(e,n){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e,t.onload=function(){"function"==typeof n&&n()},document.body.appendChild(t)},listen:function(e,n,t){t=t||!0,"function"!=typeof n&&console&&console.error&&console.error("_ds.util.listen: callback is not a function"),"string"==typeof e?(-1!==_ds.events.indexOf(e)&&n(),document.addEventListener(e,function(e){n(e)},!1)):Array&&Array.isArray(e)},cleanUrl:function(e,n){var t=["user_id","login","username","mail","email","e-mail","user"];return(t=t.concat(n)).forEach(function(n){var t=new RegExp("&"+n+"=[^&]+","ig"),i=new RegExp("\\?"+n+"=[^&]+","i");t.test(e)?e=e.replace(t,""):i.test(e)&&(e=e.replace(i,"?"))}),/[@|%40]/.test(e)&&(e=e.replace(/(%3d|%3D|=|\/)([a-zA-Z0-9.!#$*+=?^_`{|}~-]+(%40|@)[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*)(%26|&|\/|$)/g,"$1email$3removed$4")),/[?|&]$/.test(e)&&(e=e.replace(/[?|&]$/,"")),/.*\?&.*/.test(e)&&(e=e.replace(/\?&/,"?")),e.trim()}};